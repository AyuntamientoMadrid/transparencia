<% if person.errors.any? ||
      person.activities_declarations.map{|q| q.errors.any?}.flatten.any? ||
      person.assets_declarations.map{|q| q.errors.any?}.flatten.any? %>

  <div class="alert-box alert">
    <strong><%= t("shared.errors") %></strong><br>
    <% if person.errors.any? %>
      <% person.errors.full_messages.each do |error_message| %>
        <%= error_message %><br>
      <% end %>
    <% end %>

    <% if person.activities_declarations.map{|q| q.errors.any?}.flatten.any? %>
      <%= t("people.activities_declarations") %><br>
      <% person.activities_declarations.each do |declaration| %>
        <% if declaration.errors.any? %>
          <%= activities_declarations_tab_name(declaration) %><br>
          <% declaration.errors.full_messages.each do |error_message| %>
            <%= error_message %><br>
          <% end %>
        <% end %>
      <% end %>
    <% end %>

    <% if person.assets_declarations.map{|q| q.errors.any?}.flatten.any? %>
      <%= t("people.assets_declarations") %><br>
      <% person.assets_declarations.each do |declaration| %>
        <% if declaration.errors.any? %>
          <%= assets_declarations_tab_name(declaration) %><br>
          <% declaration.errors.full_messages.each do |error_message| %>
            <%= error_message %><br>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  </div>
<% end %>
